{"version":3,"sources":["app/js/components/set-image.js","app/js/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA","file":".public/js/app.js","sourcesContent":["/* global AFRAME */\n\n/**\n * Component that listens to an event, fades out an entity, swaps the texture, and fades it\n * back in.\n */\nAFRAME.registerComponent('set-image', {\n  schema: {\n    on: {type: 'string'},\n    target: {type: 'selector'},\n    src: {type: 'string'},\n    dur: {type: 'number', default: 300}\n  },\n\n  init: function () {\n    var data = this.data;\n    var el = this.el;\n\n    this.setupFadeAnimation();\n\n    el.addEventListener(data.on, function () {\n      // Fade out image.\n      data.target.emit('set-image-fade');\n      // Wait for fade to complete.\n      setTimeout(function () {\n        // Set image.\n        data.target.setAttribute('material', 'src', data.src);\n      }, data.dur);\n    });\n  },\n\n  /**\n   * Setup fade-in + fade-out.\n   */\n  setupFadeAnimation: function () {\n    var data = this.data;\n    var targetEl = this.data.target;\n\n    // Only set up once.\n    if (targetEl.dataset.setImageFadeSetup) { return; }\n    targetEl.dataset.setImageFadeSetup = true;\n\n    // Create animation.\n    targetEl.setAttribute('animation__fade', {\n      property: 'material.color',\n      startEvents: 'set-image-fade',\n      dir: 'alternate',\n      dur: data.dur,\n      from: '#FFF',\n      to: '#000'\n    });\n  }\n});\n","// For `animation` component.\nrequire('aframe-animation-component');\n\n// For `event-set` component.\nrequire('aframe-event-set-component');\n\n// For `layout` component.\nrequire('aframe-layout-component');\n\n// For template` and `template-set` components.\nrequire('aframe-template-component');\n\n// For `set-image` component.\nrequire('./components/set-image.js');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('Initialized page');\n});\n"]}